"use strict";(self.webpackChunkreact_basic=self.webpackChunkreact_basic||[]).push([[692],{41692:(e,s,a)=>{a.r(s),a.d(s,{default:()=>S});var n=a(65043),t=a(18705),r=a(73216),l=a(35475),o=a(66925),c=a(82854),i=a(22019),d=a(9025),N=a(93548),O=a(87021),u=a(70579);const x=e=>{let{state:s,quizId:a,sessionId:n}=e;return(0,u.jsxs)("div",{className:"flex gap-4 rounded-lg bg-slate-700 p-4",children:[[c.nJ.LOBBY,c.nJ.QUESTION_COUNTDOWN,c.nJ.QUESTION_CLOSE,c.nJ.ANSWER_SHOW].includes(s)&&(0,u.jsx)(O.Ay,{onClick:()=>{(0,o.Q)((async()=>{console.log("send: NEXT_QUESTION"),await(0,t.uZ)(a,n,c.Ik.NEXT_QUESTION)}))},children:"Next Question"}),s===c.nJ.QUESTION_COUNTDOWN&&(0,u.jsx)(O.Ay,{onClick:()=>{(0,o.Q)((async()=>{console.log("send: SKIP_COUNTDOWN"),await(0,t.uZ)(a,n,c.Ik.SKIP_COUNTDOWN)}))},children:"Skip Countdown"}),[c.nJ.ANSWER_SHOW,c.nJ.QUESTION_CLOSE].includes(s)&&(0,u.jsx)(O.Ay,{onClick:()=>{(0,o.Q)((async()=>{console.log("send: GO_TO_FINAL_RESULTS"),await(0,t.uZ)(a,n,c.Ik.GO_TO_FINAL_RESULTS)}))},children:"Go to Final Result"}),[c.nJ.QUESTION_OPEN,c.nJ.QUESTION_CLOSE].includes(s)&&(0,u.jsx)(O.Ay,{onClick:()=>{(0,o.Q)((async()=>{console.log("send: GO_TO_ANSWER"),await(0,t.uZ)(a,n,c.Ik.GO_TO_ANSWER)}))},children:"Go to Answer"}),(0,u.jsx)(O.Ay,{onClick:()=>{(0,o.Q)((async()=>{console.log("send: END"),await(0,t.uZ)(a,n,c.Ik.END)}))},children:"End Quiz"})]})},S=()=>{const[e,s]=(0,n.useState)(c.nJ.LOBBY),[a,O]=(0,n.useState)([]),S=parseInt((0,r.g)().sessionId||"-1"),[E]=(0,l.ok)(),g=parseInt(E.get("quizId")||"-1"),_=parseInt(E.get("autoStartNum")||"-1"),[h,I]=(0,n.useState)();async function m(){await(0,o.Q)((async()=>{const{data:n}=await(0,t.Au)(g,S);console.log(`${n.state} ${n.metadata.name}`),I(n.metadata),n.state!==e&&s(n.state),n.players!==a&&O(n.players)}))}return(0,n.useEffect)((()=>{console.log("useEffect");const e=setInterval(m,1500);return()=>clearInterval(e)}),[]),(0,u.jsx)("div",{className:"min-h-screen w-full bg-slate-800 text-white",children:(0,u.jsxs)("div",{className:"flex flex-col gap-4 p-4",children:[(0,u.jsx)("h1",{className:"text-xl font-bold",children:"Control Bar"}),(0,u.jsx)(x,{state:e,quizId:g,sessionId:S}),(0,u.jsx)("div",{className:"flex items-center gap-4 rounded-lg bg-slate-700 p-6",children:(0,u.jsxs)("h1",{className:"text-xl font-bold",children:["Current Game State: ",(0,u.jsx)("span",{className:"text-blue-300",children:e})]})}),(0,u.jsx)("h1",{className:"text-xl font-bold",children:"Game Information"}),(0,u.jsxs)("div",{className:"flex items-center gap-4 rounded-lg bg-slate-700 p-6",children:[(0,u.jsx)("h1",{className:"text-2xl font-bold",children:null===h||void 0===h?void 0:h.name}),(0,u.jsxs)("p",{className:"flex-1 cursor-pointer text-gray-300 hover:opacity-80",onClick:()=>{navigator.clipboard.writeText(String(S)),i.Ay.success("Copied to clipboard")},children:["Session ID: ",S," ",(0,u.jsx)(d.A,{})]}),(0,u.jsxs)("p",{className:"text-gray-300",children:[a.length,"/",_," to Start"]})]}),(0,u.jsx)("div",{className:"flex items-center gap-4 rounded-lg bg-slate-700 p-6",children:(0,u.jsxs)("p",{className:"text-xl font-bold",children:["Visit"," ",(0,u.jsx)("a",{href:`${window.location.origin}/join`,className:"text-blue-500",target:"_blank",rel:"noopener noreferrer",children:"amandine.tian77.me/join"})," ","to join the game!"]})}),(0,u.jsx)("h1",{className:"text-xl font-bold",children:"Players"}),(0,u.jsx)(N.Y,{players:a})]})})}},93548:(e,s,a)=>{a.d(s,{Y:()=>r});var n=a(2761),t=a(70579);const r=e=>{let{players:s}=e;return(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6",children:s.map((e=>(0,t.jsxs)("div",{className:"flex h-32 items-center justify-center gap-4 rounded-lg bg-slate-700",children:[(0,t.jsx)(n.A,{size:"large",src:`https://xsgames.co/randomusers/avatar.php?g=pixel&key=${e}`}),"Player ",e]},e)))})}},82854:(e,s,a)=>{a.d(s,{Ik:()=>t,nJ:()=>n});let n=function(e){return e.LOBBY="LOBBY",e.QUESTION_COUNTDOWN="QUESTION_COUNTDOWN",e.QUESTION_OPEN="QUESTION_OPEN",e.QUESTION_CLOSE="QUESTION_CLOSE",e.ANSWER_SHOW="ANSWER_SHOW",e.FINAL_RESULTS="FINAL_RESULTS",e.END="END",e}({}),t=function(e){return e.NEXT_QUESTION="NEXT_QUESTION",e.SKIP_COUNTDOWN="SKIP_COUNTDOWN",e.GO_TO_ANSWER="GO_TO_ANSWER",e.GO_TO_FINAL_RESULTS="GO_TO_FINAL_RESULTS",e.END="END",e}({})},66925:(e,s,a)=>{a.d(s,{Q:()=>r});var n=a(22019),t=a(8821);async function r(e){try{await e()}catch(r){var s,a;return r instanceof t.pe?n.Ay.error((null===(s=r.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.error)||"Internal server error"):r instanceof Error?n.Ay.error(r.message):n.Ay.error("An unknown error occurred")}}},9025:(e,s,a)=>{a.d(s,{A:()=>c});var n=a(58168),t=a(65043);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};var l=a(22172),o=function(e,s){return t.createElement(l.A,(0,n.A)({},e,{ref:s,icon:r}))};const c=t.forwardRef(o)},8821:(e,s,a)=>{a.d(s,{pe:()=>r});var n=a(86213);const{Axios:t,AxiosError:r,CanceledError:l,isCancel:o,CancelToken:c,VERSION:i,all:d,Cancel:N,isAxiosError:O,spread:u,toFormData:x,AxiosHeaders:S,HttpStatusCode:E,formToJSON:g,getAdapter:_,mergeConfig:h}=n.A}}]);
//# sourceMappingURL=692.49d83d13.chunk.js.map